<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Nymi SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<!-- <link href="doxygen.css" rel="stylesheet" type="text/css" /> -->
<link href="customStylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top" bgcolor=#37bec4><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
<tr style="height: 0em;">
  <td id='logoBox'>
  <img  id='logoImg' src ="logo.png"></a>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
			<img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
			<img id="MSearchSelect" src="search/mag_sel.png" alt="">
			<input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('getting_started_msvc2012win.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Windows with Visual Studio 2012 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><blockquote class="doxtable">
<p>To see a video tutorial on getting started with Nymi Band development on the Windows platform, see <a href="http://dev.nymi.com/getting-started/">Getting started</a>.</p>
<p></p>
</blockquote>
<p>Windows based machines require an external USB based BLE dongle. This is necessary since there is no consistently reliable BLE implementation across manufacturers. Currently, the NCL only supports the BlueGiga BLED112 dongle as the bluetooth low energy transceiver. This dongle appears as a serial port to Windows.</p>
<p>The method of communication between a Nymi and an NEA relies on a concept of an ecodaemon. This ecodaemon is a long running process that allows multiple NEAs to communicate to multiple Nymis, forming an ecosystem.</p>
<p>The SDK provides 2 different types of ecodaemons, though only one ecodaemon can run at a time;</p>
<ul>
<li><a class="el" href="nymulator.html">The Nymulator</a>: Allows communication to simulated Nymis and is provided as an executable in the SDK package. A Microsoft Visual 2013 Redistrituble installation is also required, which can also be found beside the executable.</li>
<li><b>The Nymi Bluetooth Service</b>: Allows communication to Nymi Bands. The installer can be found in the SDK package and installs a Windows Service. This ecodaemon also requires your computer to have the BLED112 dongle. The driver for this hardware can be found within the Nymi Bluetooth Install Directory.</li>
</ul>
<p>Getting started with your first NEA Visual Studio 2012 project;</p>
<ul>
<li>Ensure one of the two ecodaemons is running on your computer</li>
</ul>
<ol type="1">
<li>Get <em> ncl.h</em>, <em>ncl.lib</em>, and <em>ncl.dll</em> from the SDK package and place them in your project directory</li>
<li>Open your project in Visual Studio</li>
<li>In the Solution Explorer, right-click on the project and select <b>Properties</b>.</li>
<li>In the top left <b>Configuration</b> drop-down menu, select "All Configurations". Do this for all applicable platforms.</li>
<li>On the navigation pane on the left, expand <b>Configuration Properties</b>, and click on <b>VC++ Directories</b></li>
<li>In <b>Include Directories</b> add the relative path to <em> ncl.h</em>. $(ProjectDir) is useful for indicating the current project directory.</li>
<li>In <b>Library Directories</b> add the relative path to <em>ncl.lib</em>.</li>
<li>Expand <b>Linker</b> and click on <b>Input</b></li>
<li>In <b>Additional Dependencies</b> add _ncl.lib__ <br/>
<br/>
 <div class="image">
<img src="VSinstall2.png" alt="VSinstall2.png"/>
</div>
 <br/>
</li>
<li>In the same pop-up window, expand <b>Debugging</b>.</li>
<li>In <b>Environment</b>, add the directory for <em>ncl.dll</em> to <b>PATH</b>. <div class="fragment"><div class="line">PATH=$(ProjectDir)/nclDllDirectory;%PATH%</div>
</div><!-- fragment --> It is required for deployment that the ncl.dll is in the same directory as the program executable, or in a common DLL location.</li>
<li>The following can be included to your program to initialize the NCL for communicating with the Nymulator</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#include ncl.h //Includes the ncl library to your project</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> Function for handling the events thrown by the NCL</span></div>
<div class="line"><span class="comment"> @param[in] event NclEvent that contains the event type and member variables</span></div>
<div class="line"><span class="comment"> @param[in] userData Data that needs to be passed to the callback functions if provided</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line">void callback(<a class="code" href="struct_ncl_event.html">NclEvent</a> event, <span class="keywordtype">void</span>* userData){</div>
<div class="line">    <span class="keywordflow">if</span>(event.<a class="code" href="struct_ncl_event.html#a582e9d5ff7422d1a2dc49d38b4013deb">type</a> == <a class="code" href="group__core_types.html#gga3aef10678c713279bbd891e6fba6011ba0d35d2970076d03090254143ac3317ca">NCL_EVENT_INIT</a>){</div>
<div class="line">        <span class="keywordflow">if</span>(event.<a class="code" href="struct_ncl_event.html#a6fd83ba946479bd341f7b34670d4d99e">init</a>.<a class="code" href="struct_ncl_event_init.html#aae919d9ea26441d1137e0d6580552df1">success</a>){</div>
<div class="line">            <span class="comment">//can start using NCL functions</span></div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            <span class="comment">//gracefully handle error</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">...</div>
<div class="line"></div>
<div class="line">void initNCL(){</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//Only if using the Nymulator. This function is required to direct the communication</span></div>
<div class="line">    <span class="comment">//to the computer hosting the Nymulator.</span></div>
<div class="line">    <span class="comment">//127.0.0.1 is assuming the Nymulator is running on localhost</span></div>
<div class="line">    <span class="comment">//9089 is the port the Nymulator is listening on</span></div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="group__core_functions.html#gad9ba8cc52bbc5d77d6902559a7ff2b02">nclSetIpAndPort</a>(<span class="stringliteral">&quot;127.0.0.1&quot;</span>, 9089)){</div>
<div class="line">        <span class="comment">//gracefully handle error</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//Initializes the Nymi Communication Library</span></div>
<div class="line">    <span class="comment">//&#39;callback&#39; refers to the function that will be handling the NCL callbacks</span></div>
<div class="line">    <span class="comment">//NULL indicates there is no data to be passed to the NCL callbacks</span></div>
<div class="line">    <span class="comment">//&#39;NEAName&#39; is the name of this NEA program that will be provisioned in the Nymi</span></div>
<div class="line">    <span class="comment">//NCL_MODE_DEFAULT is set to configure the initialization to communicate with a default Nymi/Nymiulator</span></div>
<div class="line">    <span class="comment">//stderr refers to the stream where the NCL logs will be printed</span></div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code" href="group__core_functions.html#gaab7a0e4c6676fc35a6f7ef0f09100b57">nclInit</a>(callback, NULL, <span class="stringliteral">&quot;NEAName&quot;</span>, <a class="code" href="group__core_types.html#gga32500a62285dd90003982803d8869aa6a6f8c43af5ca884c0af12134221a94b26">NCL_MODE_DEFAULT</a>, stderr)){</div>
<div class="line">        <span class="comment">//gracefully handle error</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>If the NCL was successfully added to your project and it is communicating with the Nymulator, you will be able to see <em>"An NEA has attached"</em></li>
<li>If using the Nymi Bluetooth Service, the <a class="el" href="group__core_functions.html#gad9ba8cc52bbc5d77d6902559a7ff2b02">nclSetIpAndPort</a> can be omitted</li>
</ul>
<p>An full example of provisioning and validating a Nymi can be found in the <a class="el" href="tutorial_hello_nymi.html">Hello Nymi Tutorial</a>. The Visual Studio 2012 Ultimate project file is provided as example code in the SDK Examples folder. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<!--   <ul>
    <li class="footer">Copyright Bionym 2013. Generated on Thu Dec 18 2014. Version 0.1.0</li>
  </ul> -->
</div>
<!-- end header part -->
